{"version":3,"sources":["redux/reducer.js","redux/store.js","serviceWorker.js","components/task-box.js","components/app.js","index.js"],"names":["tasks","state","action","type","tasktype","Object","keys","length","task","text","done","progress","date","year","month","day","selected","parent","parentid","id","now","Date","getTodosByType","store","todos","entries","map","i","filter","todo","createStore","combineReducers","UI","getFullYear","getMonth","getDate","prevyear","prevmonth","prevday","isSelected","selectedId","console","log","Boolean","window","location","hostname","match","hwb","hue","sat","int","r","g","b","h","s","z","Math","abs","c","x","floor","m","round","randomgrad","deg","l","ProgressBar","version","xmlns","viewBox","className","y","rx","ry","width","height","style","stroke","fill","TextMode","edited","textField","React","useRef","bg","useEffect","current","classList","add","remove","onDoubleClick","contentEditable","focus","onMouseDown","e","detail","preventDefault","onClick","currentTarget","getAttribute","setAttribute","setTimeout","removeAttribute","background","ref","padding","onBlur","item","target","innerHTML","spellCheck","AddMode","added","createRef","display","textAlign","verticalAlign","parentElement","connect","ownProps","dispatch","children","Fragment","input","arg","sum","a","reduce","forEach","element","JSON","stringify","HorzUI","num","items0","extractHeight","dx","childNodes","push","scrollHeight","animatedContainer","useState","items","setItems","dragging","offset","innerWidth","useSprings","from","scale","springs","set","bind","useDrag","down","first","last","movement","direction","cancel","immediate","value","max","dragDelay","event","passive","capture","pos","name","translateMonth","translateDay","div","key","position","float","translateYear","setMonth","setDate","toLocaleDateString","mapStateToPropsHorzUI","date1","date2","date3","ReactDOM","render","CHorzUI","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.48e7c1d8.chunk.js","sourcesContent":["/* \n\nconst tasks = [{task:\"test1\", done: false, year:0, month: 0, type:[YEAR,MONTH,DAY], date: 1213121312},...];\nconst UI = [{year: 0, month: 0, day: 0, isSelected=false, selectedId:0}]\n-> Add\n-> Edit\n-> Select\n\n*/\n\nexport function tasks(state = {}, action) {\n    switch(action.type) {\n        case ('ADD_TASK'):\n            switch(action.tasktype) {\n                case ('YEAR'):\n                    return {\n                        ...state,\n                        [Object.keys(state).length]:{ task: action.text, done: false, progress: 0, type: action.tasktype, date: action.date, year: action.year, month: -1, day: -1, selected: false, parent: Object.keys(state).length }\n                    }\n                case ('MONTH'):\n                    return {\n                        ...state,\n                        [Object.keys(state).length]:{ task: action.text, done: false, progress: 0, type: action.tasktype, date: action.date, year: action.year, month: action.month, day: -1, selected: false, parent: action.parentid }\n                    }\n                case ('DAY'):\n                    return {\n                        ...state,\n                        [Object.keys(state).length]:{ task: action.text, done: false, type: action.tasktype, date: action.date, year: action.year, month: action.month, day: action.day, selected: false, parent: action.parentid }\n                    }\n                default:\n                    return {\n                        ...state,\n                        [Object.keys(state).length]:{ task: action.text, done: false, type: action.tasktype, date: action.date, year: -2, month: -2, day: -2, selected: false, parent: -2 }\n                    }\n            }\n        case ('EDIT_TASK'):\n            return {...state,\n                    [action.id]:{...state[action.id],task: action.text}\n                }\n        case ('TOGGLE_TASK'):\n            return {...state,\n                    [action.id]:{...state[action.id],done: !state[action.id].done}\n            }\n    // For now, don't handle any actions\n    // and just return the state given to us.\n        default:\n            return state\n    }\n}\n\nconst now = new Date(Date.now())\n\nexport function UI(state = {year: now.getFullYear(), month: now.getMonth()+1, day: now.getDate(), \n                            prevyear: now.getFullYear(), prevmonth: now.getMonth()+1, \n                            prevday: now.getDate(), isSelected:false, selectedId:0}, action) {\n    switch(action.type) {\n        case ('SET'):\n            switch(action.tasktype) {\n                case ('YEAR'):\n                    return {\n                        ...state,\n                        prevyear: state.year,\n                        year: state.year+action.id,\n                    }\n                case ('MONTH'):\n                    console.log(state.year,state.month+action.id, state.day);\n                    {var date = new Date(state.year,state.month-1+action.id,state.day);\n                        console.log(date);\n                    date = (date.getMonth()+1 != state.month+action.id && date.getMonth() != 0 && date.getMonth() != 11) ? new Date(state.year,state.month+action.id,0) : date;\n                    return {\n                        ...state,\n                        prevyear: state.year,\n                        prevmonth: state.month,\n                        prevday: state.day,\n                        month: date.getMonth()+1,\n                        year: date.getFullYear(),\n                        day: date.getDate(),\n                    } };\n                    break;\n                case ('DAY'):\n                    { const date = new Date(state.year,state.month-1,state.day+action.id);\n                    return {\n                        ...state,\n                        prevyear: state.year,\n                        prevmonth: state.month,\n                        prevday: state.day,\n                        day: date.getDate(),\n                        month: date.getMonth()+1,\n                        year: date.getFullYear()\n                    } }\n                    break;\n                default:\n                    return state\n            }\n        case ('SELECT'):\n            return {...state,\n                    isSelected:true,selectedId:action.id\n                }\n    // For now, don't handle any actions\n    // and just return the state given to us.\n        default:\n            return state\n    }\n}\n\nexport const getTodosByType = (store, type, year = -1, month = -1, day = -1) => {\n    const todos = Object.entries(store.tasks).map(i => ({...i[1],id:i[0]}));\n    switch (type) {\n      case 'YEAR':\n        return todos.filter(todo => todo.type === type && todo.year === year);\n      case 'MONTH':\n        return todos.filter(todo => todo.type === type && todo.year === year && todo.month === month);\n      case 'DAY':\n        return todos.filter(todo => todo.type === type && todo.year === year && todo.month === month && todo.day === day)\n      default:\n        return todos;\n    }\n};\n\nexport default tasks;","import { combineReducers, createStore } from \"redux\";\nimport { tasks, UI } from \"./reducer\";\n\nexport default createStore(combineReducers({ tasks, UI }));","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport './task-box.css';\nimport { connect } from 'react-redux'\nimport { getTodosByType } from '../redux/reducer'\n\nfunction hwb(hue,sat,int) {\n\tvar h = (hue%360) / 60;\n\tvar s = sat / 100;\n\tvar i = int / 100;\n  \n  var z = 1-Math.abs(h % 2 -1);\n\tvar c = (3*i*s)/(1+z);\n\tvar x = c*z;\n\n  //c=s;\n  //x=c*(1-Math.abs(h%2-1));\n  \n\tvar j = Math.floor(h);\n\t\n\tvar r;\n\tvar g;\n\tvar b;\n\tswitch (j) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = c; g = x; b = 0; break;\n\t\tcase 1: r = x; g = c; b = 0; break;\n\t\tcase 2: r = 0; g = c; b = x; break;\n\t\tcase 3: r = 0; g = x; b = c; break;\n\t\tcase 4: r = x; g = 0; b = c; break;\n\t\tcase 5: r = c; g = 0; b = x; break;\n  }\n\n  //var m=i-(0.3*r+0.59*g+0.11*b);\n  var m = i*(1-s);\n  r+=m; g+=m; b+=m;\n\treturn 'rgb(' + Math.round(r * 255) + ',' + Math.round(g * 255) + ',' + Math.round(b * 255) + ')';\n};\n\nfunction randomgrad(i) {\n  //const deg = Math.random()*360;\n  const deg = (20*i)%360+190;\n  const s = 50;\n  const l = 60;\n  //return \"linear-gradient(0deg, \"+hwb(deg+40,s,l)+\" 0%, \"+hwb(deg+30,s,l)+\" 25%, \"+hwb(deg+20,s,l)+\" 50%, \"+hwb(deg+10,s,l)+\" 75%, \"+hwb(deg,s,l)+\" 100%)\"\n  //return \"linear-gradient(0deg, hsl(\"+(deg+40)+\",70%,60%) 0%, hsl(\"+(deg+20)+\",70%,60%) 50%, hsl(\"+deg+\",70%,60%) 100%\"\n  //return \"linear-gradient(0deg, hsl(\"+(deg+40)+\",20%,90%) 0%, hsl(\"+deg+\",70%,60%) 100%\"\n  return \"linear-gradient(330deg, \"+hwb(deg+25,s-40,l+30)+\" 0%, \"+hwb(deg,s,l)+\" 100%)\"\n}\n\nconst ProgressBar = ({ progress }) => (\n  <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" className=\"ProgressBar\">\n    <defs>\n      <clipPath id=\"clipPath\">\n        <rect x=\"0.5\" y=\"0.5\" rx=\"4.8\" ry=\"4.8\" width=\"99\" height=\"99\"/>\n      </clipPath>\n    </defs>\n\n\n    <rect x=\"0\" y=\"98.5\" width={progress*0.94+6} height=\"1\"\n        style={{stroke: \"none\", fill: \"#ffffff\", \"clip-path\": \"url(#clipPath)\"}}/>\n  </svg>\n);\n\nfunction TextMode({todo, edited, selected, i}) {\n\n  let textField = React.useRef();\n  let bg = React.useRef();\n  useEffect(() => { if(todo.selected) bg.current.classList.add(\"BoxSelected\"); else bg.current.classList.remove(\"BoxSelected\") }, [{todo}]);\n  \n  return(\n    <div onDoubleClick={() => { textField.current.contentEditable=true; textField.current.focus(); selected(true);  } }\n          onMouseDown={(e) => { if (e.detail > 1) e.preventDefault()  } }\n          onClick={(e) => { \n              if(!e.currentTarget.getAttribute(\"clicked\")) { console.log(\"click\"); selected(); }\n              e.currentTarget.setAttribute(\"clicked\", true);\n              setTimeout((e) => { e.removeAttribute(\"clicked\"); }, 500, e.currentTarget);\n               }}\n          className=\"TaskBox\" style={{background: randomgrad(i)}}\n          ref={bg}>\n      <div style={{padding: \"15px\"}}>\n        <div onBlur={(item) => { edited(item.target.innerHTML); item.target.contentEditable=false; } } \n            className=\"TextBoxContents\"\n            contentEditable={false}\n            spellCheck={false}\n            ref={textField}>\n          {todo.task}\n        </div>\n      </div>\n      \n      {(todo.type === \"MONTH\" || todo.type === \"YEAR\") ? <ProgressBar progress={todo.progress}/> : \"\"}\n    </div>\n  );\n}\n\nfunction AddMode({added, selected}) {\n  let textField = React.createRef();\n  return(\n    <div className=\"TaskBox AddBox\">\n      <div style={{padding: \"15px\", display: \"table-cell\", textAlign:\"center\", verticalAlign: \"middle\"}}>\n        <div className=\"AddBoxContents\" \n          onClick={(e) => { e.target.className=\"TextBoxContents\"; \n                            e.target.contentEditable=true; \n                            e.target.innerHTML=\"\";\n                            e.currentTarget.parentElement.parentElement.className=\"TaskBox\";\n                            e.currentTarget.parentElement.style=\"padding: 15px\";\n                            e.currentTarget.focus();\n                            selected(); }}\n            \n          onBlur={(e) => { \n                            if(e.target.innerHTML !== \"\") added(e.target.innerHTML);\n                            e.target.className=\"AddBoxContents\"; \n                            e.target.contentEditable=false; \n                            e.target.innerHTML=\"Add task\";\n                            e.currentTarget.parentElement.parentElement.className=\"TaskBox AddBox\";\n                            e.currentTarget.parentElement.style=\"padding: 15px; display:table-cell; text-align:center; vertical-align:middle;\";\n                            e.currentTarget.focus();\n                            }}>\n          Add task\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction TaskBox({todos, children, dispatch, type, id}) {\n\n  //const [todos, updateTodo] = useState(data)\n\n  return (\n    <React.Fragment>\n      \n      { todos.map((item, i) => \n        <TextMode todo={item} i={i}\n          edited={(input) => { todos[i].task = input; dispatch({type: 'EDIT_TASK', text: input, id: todos[i].id}); }}\n          selected={(arg=null) => { const sum = (a,b) => { return a+b.selected; };\n                            //console.log(todos.reduce(sum, 0));\n                            if(arg!==null) { todos[i].selected = arg }\n                            if(todos.reduce(sum, 0)===0) {\n                              todos.forEach(element => { element.selected = true });\n                              todos[i].selected=false; \n                            } else if(todos[i].selected === false) {\n                              todos.forEach(element => { element.selected = false });\n                              todos[i].selected=false;\n                            } else {\n                              todos.forEach(element => { element.selected = true });\n                              todos[i].selected=false;\n                            }\n                          }} /> \n      ) }\n      <AddMode added={(input) => { dispatch({type: 'ADD_TASK', text: input, tasktype: type, date: Date.now(), year: id.year, month: id.month, day: id.day}); }}\n               selected={() => { todos.forEach(element => { element.selected = false }); } } />\n      {JSON.stringify({todos,id,type})}\n    </React.Fragment>\n  );\n}\n\n\n\nconst mapStateToProps = (state, ownProps) => {\n  const {type, id } = ownProps;\n  switch (type) {\n    case ('YEAR'):\n      return { todos: getTodosByType(state, type, id.year) };\n    case ('MONTH'):\n      return { todos: getTodosByType(state, type, id.year, id.month) };\n    case ('DAY'):\n      return { todos: getTodosByType(state, type, id.year, id.month, id.day) };\n  }\n};\n\nexport default connect(mapStateToProps)(TaskBox);","import React, { useEffect } from 'react'\nimport TaskBox from './task-box'\nimport { useDrag } from 'react-use-gesture'\nimport { useSprings, animated } from 'react-spring'\nimport { connect } from 'react-redux'\nimport './app.css'\n\nfunction HorzUI({type, children, num, dispatch, items0, UI}) {\n\n    function extractHeight(parent, dx) {\n        var a = [];\n        parent.current.childNodes.forEach(i => {\n            a.push(i.children[0].scrollHeight+40);\n        });\n        return ((dx>0) ? [a[0],a[1]] : [a[1],a[2]]);\n    }\n\n    const animatedContainer = React.useRef();\n\n    const [items, setItems] = React.useState(items0);\n\n    const dragging = React.useRef(false);\n\n    const offset=window.innerWidth;\n    //const offset = 630;\n\n    const [springs, set] = useSprings(items.length, (i) => ({from:{ \n        x: offset*(i-1), \n        scale: 1, \n        display: \"block\", \n        height: \"unset\"\n    } }))\n      \n    function sleep(millis)\n    {\n        var date = new Date();\n        var curDate = null;\n        do { curDate = new Date(); }\n        while(curDate-date < millis);\n    }\n\n    const bind = useDrag(({ down, first, last, movement: [x, y], direction: [dx], cancel}) => {\n        if(first) { \n            animatedContainer.current.classList.add(\"noselect\");\n            dragging.current = true; }\n        if(last) { \n            dragging.current = false; }\n        \n        if(down && Math.abs(x) > window.innerWidth/3) { \n            cancel( /*(1+=(dx>0) ? -1 : 1) */);\n            set((i)=>({\n                immediate: true, \n                //x: down ? x+offset*((i-1+((dx>0) ? -1 : 1))) : 0+offset*((i-1+((dx>0) ? -1 : 1))), \n                x: springs[i].x.value+offset*((dx>0) ? -1 : 1),\n                scale: down ? 1.02 : 1,\n                //display: (i < (1+((dx>0) ? -1 : 1)) - 1 || i > (1+((dx>0) ? -1 : 1)) + 1) ? \"none\" : \"block\", \n                height: down && Math.abs(x) > 50 ? Math.max(...extractHeight(animatedContainer, x)) : animatedContainer.current.children[1+((dx>0) ? -1 : 1)].children[0].scrollHeight+40 }))\n            //console.log(springs[0].x.value);\n            //sleep(1000);\n            dispatch({type: 'SET', tasktype: type, id: (dx>0) ? -1 : 1});\n            return;\n        }\n        set(i => ({x: down ? x+offset*((i-1)) : 0+offset*((i-1)), \n                    scale: down ? 1.02 : 1, \n                    display: (i < (1) - 1 || i > (1) + 1) ? \"none\" : \"block\", \n                    height: down && Math.abs(x) > 50 ? Math.max(...extractHeight(animatedContainer, x)) : animatedContainer.current.children[1].children[0].scrollHeight+40 }) \n        )\n    }, { dragDelay: true, event: { passive: true, capture: false }})\n\n\n    useEffect(() => {\n        setTimeout(()=>{\n            set(i => {\n                    return {\n                            height: animatedContainer.current.children[1].children[0].scrollHeight+40 \n                        } \n                }\n                )},1);\n        \n    }, [num])\n\n    useEffect(() => {\n        setItems(items0);\n        console.log(type, \" \", dragging.current);\n\n        function pos(dx) {\n            items[(dx>0 ? 2 : 0)] = items[1];\n            switch(type) {\n                case 'YEAR':\n                    items[1] = {id: {year:UI.year}, name: UI.year}\n                    break;\n                case 'MONTH':\n                    items[1] = {id: {year: UI.year, month: UI.month}, name: translateMonth(UI.month, UI.year)}\n                    break;\n                case 'DAY':\n                    items[1] = {id: {year: UI.year, month: UI.month, day: UI.day}, name: translateDay(new Date(UI.year, UI.month-1, UI.day))}\n                    break;\n            }\n            setItems([...items]);\n            set((i)=>({\n                immediate: true, \n                //x: 0+offset*((i-1+((dx>0) ? -1 : 1))),\n                x: springs[i].x.value+offset*((dx>0) ? -1 : 1),\n                /*height: down && Math.abs(x) > 50 ? Math.max(...extractHeight(animatedContainer)) : animatedContainer.current.children[Math.min(Math.max(1+((dx>0) ? -1 : 1),0),animatedContainer.current.children.length-1)].children[0].scrollHeight+40*/ \n            }));\n            setTimeout((dx)=>{\n                set((i)=>({\n                    x: 0+offset*((i-1)), \n                    //height: animatedContainer.current.children[Math.min(Math.max(1+((dx>0) ? -1 : 1),0),animatedContainer.current.children.length-1)].children[0].scrollHeight+40}));\n                    //height: Math.max(...extractHeight(animatedContainer, dx)),\n                    height: animatedContainer.current.children[1].children[0].scrollHeight+40,\n                }));\n                setTimeout(() => {setItems(items0)},500);\n            },1,dx);\n        }\n\n        // Jump year\n        if(UI.year !== UI.prevyear && !dragging.current /*&& springs[0].x.done*/) {\n            console.log(type, \" jump year \", UI.year);\n            const dx = UI.prevyear - UI.year;\n            pos(dx);\n            return \n        }\n\n        // Jump month\n        if(UI.month !== UI.prevmonth && !dragging.current && (type === 'MONTH' || type === 'DAY')) {\n            console.log(type, \" jump month  \", UI.month);\n            const dx = UI.prevmonth - UI.month;\n            pos(dx);\n            return \n        }\n    }, [UI])\n\n    function style() {\n        var h = springs[0];\n        //console.log(animatedContainer.current);\n        return { height: h.height };\n    }\n\n    function tasktype() {\n        switch(type) {\n            case 'YEAR':\n                return \"goals\";\n            case 'MONTH':\n                return \"targets\";\n            case 'DAY':\n                return \"tasks\";\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <animated.div {...bind()} ref={animatedContainer} style={style()}>\n                {springs.map(({x, scale, display, height }, i) => (\n                    <animated.div key={i} style={{position:\"absolute\", float:\"left\", width:\"630px\", x, scale, display, height}}>\n                        <div>\n                            <h1>{items[i].name}'s {tasktype()}</h1>\n                            <TaskBox type={type} id={items[i].id}/>\n                        </div>\n                    </animated.div>\n                ))}\n            </animated.div>\n        </React.Fragment>\n    )\n}\n\nfunction translateYear(year) {\n    return year;\n}\n\nfunction translateMonth(month, year) {\n    const now = new Date(Date.now());\n\n    if(now.getMonth()+1 === month && now.getFullYear() === year) return \"This month\";\n\n    now.setMonth(now.getMonth()-1);\n    if(now.getMonth()+1 === month && now.getFullYear() === (month-1<1 ? year-1 : year)) return \"Previous month\";\n\n    now.setMonth(now.getMonth()+2);\n    if(now.getMonth()+1 === month && now.getFullYear() === (month+1>12 ? year+1 : year)) return \"Next month\";\n\n    switch (month) {\n        case 1:\n            return \"January\"\n        case 2:\n            return \"February\"\n        case 3:\n            return \"March\"\n        case 4:\n            return \"April\"\n        case 5:\n            return \"May\"\n        case 6:\n            return \"June\"\n        case 7:\n            return \"July\"\n        case 8:\n            return \"August\"\n        case 9:\n            return \"September\"\n        case 10:\n            return \"October\"\n        case 11:\n            return \"November\"\n        case 12:\n            return \"December\"\n    }\n}\n\nfunction translateDay(date: Date)   {\n    const now = new Date(Date.now());\n    if(date.getDate() === now.getDate() && date.getMonth() === now.getMonth() && date.getFullYear() === now.getFullYear())\n        return \"Today\";\n\n    now.setDate(now.getDate()-1);\n    if(date.getDate() === now.getDate() && date.getMonth() === now.getMonth() && date.getFullYear() === now.getFullYear())\n        return \"Yesterday\";\n\n    now.setDate(now.getDate()+2);\n    if(date.getDate() === now.getDate() && date.getMonth() === now.getMonth() && date.getFullYear() === now.getFullYear())\n        return \"Tomorrow\";\n\n    return date.toLocaleDateString()\n}\n\nconst mapStateToPropsHorzUI = (state, ownProps) => {\n    switch (ownProps.type) {\n        case ('YEAR'):\n            return { num: Object.keys(state.tasks).length, items0: [ {id:{year: state.UI.year-1}, name:translateYear(state.UI.year-1)},\n                                                                    {id:{year: state.UI.year}, name:translateYear(state.UI.year)},\n                                                                    {id:{year: state.UI.year+1}, name:translateYear(state.UI.year+1)}], \n                                                            UI: state.UI }\n                                                            break;\n        case ('MONTH'):\n            { const date1 = new Date(state.UI.year, state.UI.month-2, state.UI.day);\n            const date2 = new Date(state.UI.year, state.UI.month-1, state.UI.day);\n            const date3 = new Date(state.UI.year, state.UI.month, state.UI.day);\n            return { num: Object.keys(state.tasks).length, items0: [ {id:{year: date1.getFullYear(), month: date1.getMonth()+1}, name:translateMonth(date1.getMonth()+1, date1.getFullYear())},\n                                                                     {id:{year: date2.getFullYear(), month: date2.getMonth()+1}, name:translateMonth(date2.getMonth()+1, date2.getFullYear())},\n                                                                     {id:{year: date3.getFullYear(), month: date3.getMonth()+1}, name:translateMonth(date3.getMonth()+1, date3.getFullYear())}], \n                                                            UI: state.UI } }\n                                                            break;\n        case ('DAY'):\n            { const date1 = new Date(state.UI.year, state.UI.month-1, state.UI.day-1);\n            const date2 = new Date(state.UI.year, state.UI.month-1, state.UI.day);\n            const date3 = new Date(state.UI.year, state.UI.month-1, state.UI.day+1);\n            return { num: Object.keys(state.tasks).length, items0: [ {id:{year: date1.getFullYear(), month: date1.getMonth()+1, day: date1.getDate()}, name:translateDay(date1)},\n                                                                    {id:{year: date2.getFullYear(), month: date2.getMonth()+1, day: date2.getDate()}, name:translateDay(date2)},\n                                                                    {id:{year: date3.getFullYear(), month: date3.getMonth()+1, day: date3.getDate()}, name:translateDay(date3)} ], \n                                                            UI: state.UI } }\n                                                            break;\n    }\n}\n\n\nexport default function App() {\n    const CHorzUI = connect(mapStateToPropsHorzUI)(HorzUI);\n    //dispatch({type: 'ADD_TASK', text: \"Testing\", tasktype: 'YEAR', date: Date.now(), year: 0});\n    return (\n        <React.Fragment>\n            <CHorzUI type={'YEAR'} />\n            <CHorzUI type={'MONTH'} />\n            <CHorzUI type={'DAY'} />\n            {/*<h1>October's targets</h1>\n            <HorzUI type={'MONTH'} />\n            <h1>Today's tasks</h1>\n    <HorzUI type={'DAY'}/>*/}\n        </React.Fragment>\n    )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\nimport App from './components/app';\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}